version: '3'
services:
  chatbot:
    image: chatbard
    environment:
      ACCESS_TOKEN: 6125927916:AAE-21Vy3t3cDSgjaXoeQtWoq3_lmE1quQA
      HOST: chatbart.redis.cache.windows.net
      PASSWORD: LDyPk3e3HDX5uR7ZL8fwf55nFeBuoxZFeAzCaM7Hw3o=
      REDISPORT: 6380
      GPTAPIKEY: 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
    entrypoint: python chatbot.py
    deploy:
      replicas: 3
      resources:
        limits:
          cpus: "0.1"
          memory: '50M'
      restart_policy:
        condition: on-failure
